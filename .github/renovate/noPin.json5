{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  packageRules: [
    {
      description: "Spegel OCI Helm chart cannot be pinned with digests",
      matchDatasources: ["helmfile", "docker"],
      matchDepNames: ["spegel", "ghcr.io/spegel-org/helm-charts/spegel"],
      pinDigests: false
    },
    {
      description: "OCI Helm charts cannot be pinned with digests",
      matchDatasources: ["docker"],
      matchDepNames: [
        "ghcr.io/home-operations/charts/tuppr",
        "ghcr.io/rafaribe/homelab-assistant-crds",
      ],
      pinDigests: false
    },
    {
      description: "Bootstrap templates use latest tag intentionally",
      matchDatasources: ["docker"],
      matchDepNames: ["docker.io/library/alpine"],
      matchFileNames: [".taskfiles/Bootstrap/resources/**"],
      pinDigests: false
    },
    {
      matchDepNames: ["ghcr.io/fluxcd/flux-manifests"],
      pinDigests: false
    },
    {
      matchPackagePatterns: ["gha-runner-scale-set"],
      pinDigests: false
    },
    {
      description: "CNPG cluster uses imageName without digest",
      matchDatasources: ["docker"],
      matchDepNames: ["ghcr.io/cloudnative-pg/postgresql"],
      pinDigests: false
    },
    {
      description: "Talos kubelet managed via talconfig",
      matchDatasources: ["docker"],
      matchDepNames: ["ghcr.io/siderolabs/kubelet", "ghcr.io/siderolabs/installer"],
      pinDigests: false
    },
  ],
}
